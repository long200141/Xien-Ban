<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; -webkit-text-stroke: #000000}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; -webkit-text-stroke: #000000; min-height: 14.0px}
    span.s1 {font-kerning: none}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE html&gt;</span></p>
<p class="p1"><span class="s1">&lt;html lang="vi"&gt;</span></p>
<p class="p1"><span class="s1">&lt;head&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;meta charset="UTF-8"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;title&gt;Menu Counter (Lưu Cache)&lt;/title&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;style&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>:root {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>--primary: #4caf50;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>--bg: #f0f2f5;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>--card: #ffffff;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>--text: #1c1e21;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>body {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>background-color: var(--bg);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>margin: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>padding: 15px 10px 100px 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>flex-direction: column;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>h2 { color: var(--text); margin-bottom: 5px; font-size: 1.5rem; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.status { font-size: 0.8rem; color: #4caf50; margin-bottom: 15px; font-weight: bold; }</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.item-list { width: 100%; max-width: 450px; }</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.counter-item {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>background: var(--card);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>border-radius: 15px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>padding: 12px 18px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>margin-bottom: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>justify-content: space-between;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>box-shadow: 0 1px 3px rgba(0,0,0,0.1);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.info { display: flex; flex-direction: column; flex: 1; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.name { font-weight: 600; font-size: 1.1rem; color: var(--text); }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.price-tag { font-size: 0.9rem; color: #65676b; }</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.controls { display: flex; align-items: center; gap: 12px; }</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>button {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>width: 38px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>height: 38px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>border-radius: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>border: none;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>font-size: 1.4rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>font-weight: bold;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>touch-action: manipulation;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.btn-minus { background-color: #f0f2f5; color: #444; }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.btn-plus { background-color: var(--primary); color: white; }</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.count { font-size: 1.2rem; font-weight: 700; min-width: 30px; text-align: center; }</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.footer {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>position: fixed;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>bottom: 0; left: 0; right: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>background: #ffffff;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>border-top: 1px solid #ddd;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>padding: 15px 25px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>justify-content: space-between;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>box-shadow: 0 -4px 10px rgba(0,0,0,0.05);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>#totalPrice { font-size: 1.5rem; font-weight: 800; color: #e41e3f; }</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>.reset-btn {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>background: #ffebee;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>border: 1px solid #ffcdd2;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>padding: 8px 15px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>border-radius: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>font-size: 0.8rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>color: #c62828;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>margin-bottom: 15px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/style&gt;</span></p>
<p class="p1"><span class="s1">&lt;/head&gt;</span></p>
<p class="p1"><span class="s1">&lt;body&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;h2&gt;Phiếu Thu Tiền&lt;/h2&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;div class="status"&gt;● Tự động lưu đã bật&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;button class="reset-btn" onclick="resetAll()"&gt;Xóa tất cả (Làm mới)&lt;/button&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;div class="item-list" id="itemList"&gt;&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;div class="footer"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;span style="color:#65676b"&gt;TỔNG CỘNG&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>&lt;span id="totalPrice"&gt;0đ&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;script&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Dữ liệu gốc</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const defaultItems = [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>{ id: 1, name: "Tôm", price: 2000, count: 0 },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>{ id: 2, name: "Mực", price: 2000, count: 0 },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>{ id: 3, name: "Chả cá", price: 500, count: 0 },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>{ id: 4, name: "Xúc xích nhỏ", price: 2000, count: 0 },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>{ id: 5, name: "Xúc xích to", price: 10000, count: 0 },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>{ id: 6, name: "Hồ lô", price: 1000, count: 0 },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>{ id: 7, name: "Phô mai viên", price: 2000, count: 0 },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>{ id: 8, name: "Phô mai que", price: 4000, count: 0 },</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>{ id: 9, name: "Nem chua rán", price: 4000, count: 0 }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>];</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>let items = [];</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// 1. Hàm LOAD dữ liệu từ LocalStorage</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>function loadData() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const saved = localStorage.getItem('myCounterData');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (saved) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>items = JSON.parse(saved);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>items = [...defaultItems];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// 2. Hàm SAVE dữ liệu vào LocalStorage</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>function saveData() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>localStorage.setItem('myCounterData', JSON.stringify(items));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>function formatMoney(amount) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>return amount.toLocaleString('vi-VN') + 'đ';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>function updateTotal() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const total = items.reduce((sum, item) =&gt; sum + (item.count * item.price), 0);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById('totalPrice').innerText = formatMoney(total);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>function renderItems() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const itemListElement = document.getElementById('itemList');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>itemListElement.innerHTML = '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>items.forEach(item =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>const itemDiv = document.createElement('div');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>itemDiv.className = 'counter-item';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>itemDiv.innerHTML = `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="info"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;span class="name"&gt;${item.name}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;span class="price-tag"&gt;${formatMoney(item.price)}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="controls"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;button class="btn-minus" onclick="changeCount(${item.id}, -1)"&gt;−&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;span class="count" id="count-${item.id}"&gt;${item.count}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;button class="btn-plus" onclick="changeCount(${item.id}, 1)"&gt;+&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>itemListElement.appendChild(itemDiv);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.changeCount = function(id, delta) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>const item = items.find(i =&gt; i.id === id);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if (item) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>item.count = Math.max(0, item.count + delta);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>document.getElementById(`count-${id}`).innerText = item.count;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>updateTotal();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>saveData(); // Lưu lại mỗi khi thay đổi</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>};</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>window.resetAll = function() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>if(confirm("Bạn muốn xóa sạch dữ liệu và làm lại từ đầu?")) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>items = defaultItems.map(item =&gt; ({...item, count: 0}));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>saveData();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>renderItems();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>updateTotal();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>// Khởi chạy khi mở trang</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>loadData();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>renderItems();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>updateTotal();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</span></p>
<p class="p1"><span class="s1">&lt;/body&gt;</span></p>
<p class="p1"><span class="s1">&lt;/html&gt;</span></p>
</body>
</html>
